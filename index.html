<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Valentine?</title>

<style>
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  height: 100vh;
  display: grid;
  place-items: center;
  background: linear-gradient(135deg, #ffe1ef, #fff7e1);
  overflow: hidden;
}

.heart {
  position: absolute;
  bottom: -40px;
  font-size: 18px;
  opacity: 0.7;
  animation: floatUp linear forwards;
  pointer-events: none;
}
@keyframes floatUp {
  from { transform: translateY(0); opacity: 0; }
  10% { opacity: .7; }
  to { transform: translateY(-110vh); opacity: 0; }
}

.card {
  width: min(520px, 92vw);
  padding: 28px;
  border-radius: 18px;
  background: rgba(255,255,255,0.95);
  box-shadow: 0 10px 30px rgba(0,0,0,0.12);
  text-align: center;
  position: relative;
}

h1 { margin: 0 0 10px; font-size: 28px; }
h2 { margin: 0 0 14px; font-size: 22px; }

.meterWrap {
  width: 90%;
  height: 10px;
  margin: 0 auto 8px;
  background: rgba(0,0,0,0.1);
  border-radius: 999px;
  overflow: hidden;
}
.meter {
  height: 100%;
  width: 0%;
  background: #ff2d7a;
  transition: width 0.2s;
}
.meterLabel {
  font-size: 13px;
  margin-bottom: 16px;
}

.btns {
  display: flex;
  justify-content: center;
  gap: 12px;
  position: relative;
  min-height: 70px;
}

button {
  border: none;
  padding: 12px 18px;
  border-radius: 999px;
  font-weight: bold;
  cursor: pointer;
}

#yes {
  background: #ff2d7a;
  color: white;
}

#no {
  background: #222;
  color: white;
  position: absolute;
  left: 50%;
  top: 70%;
  transform: translate(-50%, -50%);
}

.msg {
  margin-top: 18px;
  font-weight: bold;
  min-height: 24px;
}

.plan {
  display: none;
  margin-top: 18px;
}

.smallBtn {
  background: #111;
  color: white;
  padding: 8px 14px;
  border-radius: 999px;
  margin: 4px;
}

.ghostBtn {
  background: transparent;
  border: 2px solid rgba(0,0,0,0.3);
  padding: 8px 14px;
  border-radius: 999px;
}

canvas {
  position: absolute;
  inset: 0;
  pointer-events: none;
}
</style>
</head>

<body>

<div class="card" id="card">
<canvas id="confetti"></canvas>

<h1>Xhensila â¤ï¸</h1>
<h2>Will you be my Valentine? ğŸ’˜</h2>

<div class="meterWrap">
<div class="meter" id="meter"></div>
</div>
<div class="meterLabel" id="meterLabel">Convincing youâ€¦ 0%</div>

<div class="btns">
<button id="yes">Yes ğŸ’—</button>
<button id="no">No ğŸ™ƒ</button>
</div>

<div class="msg" id="msg"></div>

<div class="plan" id="plan">
<h3>Okayyyy itâ€™s official ğŸ’–</h3>
<p>Pick a plan (or type your own):</p>

<div>
<button class="smallBtn planOpt" data-idea="Dinner + dessert ğŸğŸ°">Dinner + dessert ğŸğŸ°</button>
<button class="smallBtn planOpt" data-idea="Movie night + snacks ğŸ¬ğŸ¿">Movie night + snacks ğŸ¬ğŸ¿</button>
<button class="smallBtn planOpt" data-idea="Coffee + walk + pics â˜•ï¸ğŸš¶â€â™€ï¸ğŸ“¸">Coffee + walk + pics â˜•ï¸ğŸš¶â€â™€ï¸ğŸ“¸</button>
<button class="smallBtn planOpt" data-idea="Bowling + arcade ğŸ³ğŸ•¹ï¸">Bowling + arcade ğŸ³ğŸ•¹ï¸</button>
<button class="smallBtn planOpt" data-idea="Picnic (indoors if cold) ğŸ§ºğŸ’—">Picnic ğŸ§ºğŸ’—</button>
<button class="smallBtn planOpt" data-idea="Mini road trip + playlist ğŸš—ğŸ¶">Mini road trip ğŸš—ğŸ¶</button>
</div>

<div style="margin-top:10px;">
<input id="customIdea" type="text" placeholder="Type your own idea..."
style="padding:8px 12px; border-radius:999px; border:1px solid #ccc;">
<button class="ghostBtn" id="submitIdea">Use this ğŸ’Œ</button>
<button class="ghostBtn" id="copyTxt">Copy message âœ¨</button>
</div>

<p id="planMsg" style="margin-top:10px; font-weight:bold;"></p>
</div>
</div>

<script>
const card = document.getElementById("card");
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const msg = document.getElementById("msg");
const meter = document.getElementById("meter");
const meterLabel = document.getElementById("meterLabel");
const plan = document.getElementById("plan");
const planMsg = document.getElementById("planMsg");

let noCount = 0;

function randomInt(min, max) {
return Math.floor(Math.random()*(max-min+1))+min;
}

function moveNoButton() {
const padding = 16;
const maxLeft = card.clientWidth - noBtn.offsetWidth - padding;
const maxTop = card.clientHeight - noBtn.offsetHeight - padding;

noBtn.style.left = randomInt(padding, maxLeft)+"px";
noBtn.style.top = randomInt(80, maxTop)+"px";
noBtn.style.transform="translate(0,0)";
}

function setMeter(pct){
meter.style.width=pct+"%";
meterLabel.textContent=`Convincing youâ€¦ ${pct}%`;
}

function typeText(el,text){
el.textContent="";
let i=0;
const t=setInterval(()=>{
el.textContent+=text[i++];
if(i>=text.length) clearInterval(t);
},25);
}

yesBtn.addEventListener("click",()=>{
yesBtn.disabled=true;
noBtn.disabled=true;
setMeter(100);
typeText(msg,"Yayyy!! ğŸ’–ğŸ¥° I knew you'd say yes!");
plan.style.display="block";
burstConfetti();
});

noBtn.addEventListener("click",(e)=>{
e.preventDefault();
noCount++;
setMeter(Math.min(noCount*18,95));
moveNoButton();
yesBtn.style.transform=`scale(${1+noCount*0.06})`;
if(noCount>=7){
msg.textContent="Okay weâ€™re pretending you said YES ğŸ˜ŒğŸ’—";
setTimeout(()=>yesBtn.click(),600);
}
});

document.querySelectorAll(".planOpt").forEach(btn=>{
btn.addEventListener("click",()=>{
planMsg.textContent="Perfect ğŸ˜ Our plan: "+btn.dataset.idea;
});
});

document.getElementById("submitIdea").addEventListener("click",()=>{
const idea=document.getElementById("customIdea").value.trim();
if(!idea){ planMsg.textContent="Type something first ğŸ˜„"; return;}
planMsg.textContent="Perfect ğŸ˜ Our plan: "+idea;
});

document.getElementById("copyTxt").addEventListener("click",async()=>{
try{
await navigator.clipboard.writeText("Happy Valentineâ€™s Day ğŸ’– "+planMsg.textContent);
planMsg.textContent="Copied âœ…";
}catch{
planMsg.textContent="Copy blocked by browser ğŸ˜­";
}
});

function spawnHeart(){
const h=document.createElement("div");
h.className="heart";
h.textContent="ğŸ’—";
h.style.left=randomInt(0,100)+"vw";
h.style.animationDuration=randomInt(4000,8000)+"ms";
document.body.appendChild(h);
setTimeout(()=>h.remove(),8000);
}
setInterval(spawnHeart,500);

const canvas=document.getElementById("confetti");
const ctx=canvas.getContext("2d");
canvas.width=card.clientWidth;
canvas.height=card.clientHeight;
let confetti=[];

function burstConfetti(){
confetti=[];
for(let i=0;i<150;i++){
confetti.push({
x:canvas.width/2,
y:canvas.height/2,
vx:(Math.random()-0.5)*8,
vy:(Math.random()-1)*8,
g:0.2,
a:1
});
}
requestAnimationFrame(updateConfetti);
}

function updateConfetti(){
ctx.clearRect(0,0,canvas.width,canvas.height);
confetti.forEach(p=>{
p.vy+=p.g;
p.x+=p.vx;
p.y+=p.vy;
p.a-=0.01;
ctx.globalAlpha=p.a;
ctx.fillStyle="#ff2d7a";
ctx.fillRect(p.x,p.y,4,4);
});
confetti=confetti.filter(p=>p.a>0);
if(confetti.length) requestAnimationFrame(updateConfetti);
}
</script>

</body>
</html>
